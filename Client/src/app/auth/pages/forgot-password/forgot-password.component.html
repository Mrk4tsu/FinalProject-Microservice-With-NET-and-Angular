<main class="signup auth">
  <div class="left">
    <a href="#"><img src="/assets/public/images/logo.png" alt="Logo" style="width: 150px;"/></a>
    <h1>Web tải game, ứng dụng hỗ trợ miễn phí</h1>
  </div>
  <div class="right bg-soft-screen shadow d-flex align-items-center position-relative">
    <a class="d-flex align-items-center position-absolute start-0 title" style="top:15px;" routerLink="/">
      <i class="fas fa-long-arrow-alt-left mx-lg-5 mx-3"></i>
      Quay lại trang chủ
    </a>
    <section class="container right-content mt-4 login">
      <a href="/" class="d-flex justify-content-center d-lg-none pb-sm-3 my-3">
        <img src="/assets/public/images/logo.png" alt="Logo" style="width: 150px;"/>
      </a>

      <h3 class="mb-4 mt-0 mt-sm-3">Khôi phục tài khoản</h3>
      <form class="mx-lg-5 px-lg-5 mt-3 auths-form" [formGroup]="form" (ngSubmit)="onSubmit()">
        @if (this.isSuccess) {
          <div *ngIf="message" class="alert alert-success w-100">{{ message }}</div>
        } @else {
          <div *ngIf="message" class="alert alert-warning w-100">{{ message }}</div>
        }
        <div class="my-2">
          <label class="form-label" for="usn">Username</label>
          <input type="text" class="form-control bg-soft-screen" id="usn" placeholder="Nhập tên đăng nhập"
                 formControlName="username">
          @if (hasDisplayError('username') && form.controls.username.hasError('required')) {
            <div class="error-feedback">
              Vui lòng nhập tài khoản
            </div>
          }
        </div>

        <div class="my-2">
          <label class="form-label">Email</label>
          <input type="email" class="form-control bg-soft-screen" placeholder="Nhập email" formControlName="email">
          @if (hasDisplayError('email')) {
            <div class="error-feedback">
              @if (form.controls.email.hasError('required')) {
                <div>
                  Vui lòng nhập địa chỉ email
                </div>
              } @else if (form.controls.email.hasError('email')) {
                <div>
                  Vui lòng nhập email đúng hợp lệ
                </div>
              }
            </div>
          }
        </div>
        <button [disabled]="isDisableSubmit()" type="submit" class="btn bg-gradient-success text-white col-12 mt-2">
          <span *ngIf="!isLoading">Yêu cầu khôi phục</span>
          <span *ngIf="isLoading">
                  <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                  Đợi tí...
          </span>
        </button>
      </form>
    </section>
  </div>
</main>
