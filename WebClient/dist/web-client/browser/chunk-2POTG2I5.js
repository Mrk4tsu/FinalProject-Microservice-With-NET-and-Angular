import{a as ge}from"./chunk-AFRMU7CS.js";import{$ as f,A as l,Aa as y,B as g,Ba as k,C as o,D as e,E as c,F as V,G as z,I as C,J as p,Ja as $,N as r,O as ce,Q as q,R as le,S as G,T as Q,V as E,X as F,Y as W,Z as X,aa as N,d as re,e as ae,i as B,ja as me,k as D,la as T,ma as I,oa as J,p as A,pa as de,qa as _,ra as u,s,sa as v,ta as x,ua as P,v as d,va as M,w as b,wa as w,x as j,xa as O,y as se,ya as ue,z as m,za as S}from"./chunk-ZW7ZUOOD.js";var Ee=()=>["/forgot-password"];function _e(t,n){t&1&&(o(0,"div",34),r(1," Vui l\xF2ng nh\u1EADp t\xE0i kho\u1EA3n "),e())}function ve(t,n){t&1&&(o(0,"div",34),r(1," Vui l\xF2ng nh\u1EADp t\xE0i kho\u1EA3n "),e())}function xe(t,n){t&1&&(o(0,"span"),r(1,"\u0110\u0103ng nh\u1EADp"),e())}function Pe(t,n){t&1&&(o(0,"span"),c(1,"span",35),r(2," \u0110\u1EE3i t\xED... "),e())}var U=class t{constructor(n,i,a,h,ie,be){this.toast=n;this.service=i;this.cdr=a;this.themeService=h;this.router=ie;this.formBuilder=be;this.isSubmitted=!1;this.isLoading=!1;this.platForm=D(A);this.form=this.formBuilder.group({userName:["",u.required],password:["",u.required],rememberMe:[!1]});this.service.deleteToken()}ngOnInit(){N(this.platForm)&&this.themeService.theme$.subscribe(n=>{document.body.className=n,this.cdr.detectChanges()})}hasDisplayErrors(n){let i=this.form.get(n);return!!i?.invalid&&(this.isSubmitted||!!i?.touched||!!i?.dirty)}onSubmit(){this.isSubmitted=!0,this.form.valid&&(this.isLoading=!0,this.service.login(this.form.value).subscribe({next:n=>{n.success?(this.isLoading=!1,this.toast.success("Login successful"),this.router.navigate(["/"]).then(i=>i)):(this.isLoading=!1,this.toast.error(n.message))},error:n=>{this.isLoading=!1,this.toast.error(n.error.message)}}))}static{this.\u0275fac=function(i){return new(i||t)(d($),d(y),d(E),d(k),d(T),d(O))}}static{this.\u0275cmp=b({type:t,selectors:[["app-login"]],decls:48,vars:8,consts:[[1,"signin","auth"],[1,"left"],["href","#"],["src","/assets/public/images/logo.png","alt","Logo",2,"width","150px"],[1,"right","bg-soft-screen","shadow","d-flex","align-items-center","position-relative"],["routerLink","/",1,"d-flex","align-items-center","position-absolute","start-0","title",2,"top","15px"],[1,"fas","fa-long-arrow-alt-left","mx-lg-5","mx-3"],[1,"container","right-content","mt-4","login"],["href","/",1,"d-flex","justify-content-center","d-lg-none","pb-sm-3"],[1,"mb-4","mt-0","mt-sm-3"],[1,"d-flex","justify-content-between","align-items-center","mx-lg-5","px-lg-5"],["href","",1,"bg-facebook","shadow-hover-secondary","text-center","text-decoration-none","rounded-3","p-1","me-1","container-fluid"],[1,"fab","fa-facebook-f","text-light"],["href","",1,"text-center","shadow-hover-secondary","text-decoration-none","rounded-3","p-1","ms-1","bg-light","container-fluid"],[1,"fab","fa-google","text-danger"],[1,"mx-lg-5","px-lg-5","mt-3","auths-form",3,"ngSubmit","formGroup"],[1,"my-4"],["for","usn",1,"form-label"],["type","text","id","usn","placeholder","Nh\u1EADp t\xEAn \u0111\u0103ng nh\u1EADp","formControlName","userName",1,"form-control"],["class","error-feedback",4,"ngIf"],[1,"mb-4"],[1,"d-flex","justify-content-between","align-items-center"],["for","password",1,"form-label"],["href","#","id","tgPassword",1,"text-tian-light","pe-2"],["type","password","id","password","placeholder","Nh\u1EADp m\u1EADt kh\u1EA9u","formControlName","password",1,"form-control"],[1,"mb-4","form-check"],[1,"d-flex","justify-content-between"],[1,"form-check-label"],["type","checkbox","formControlName","rememberMe",1,"form-check-input","bg-transparent"],[1,"fw-light",2,"font-size","0.9rem",3,"routerLink"],["type","submit",1,"btn","bg-gradient-success","text-white","col-12",3,"disabled"],[4,"ngIf"],[1,"text-center","d-flex","justify-content-center","mt-2"],["href","/signup",1,"ps-2","text-tian-light","text-decoration-none"],[1,"error-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,a){i&1&&(o(0,"main",0)(1,"div",1)(2,"a",2),c(3,"img",3),e(),o(4,"h1"),r(5,"Web t\u1EA3i game, \u1EE9ng d\u1EE5ng h\u1ED7 tr\u1EE3 mi\u1EC5n ph\xED"),e()(),o(6,"div",4)(7,"a",5),c(8,"i",6),r(9," Quay l\u1EA1i trang ch\u1EE7 "),e(),o(10,"section",7)(11,"a",8),c(12,"img",3),e(),o(13,"h3",9),r(14,"\u0110\u0103ng nh\u1EADp"),e(),o(15,"div",10)(16,"a",11),c(17,"i",12),e(),o(18,"a",13),c(19,"i",14),e()(),o(20,"form",15),C("ngSubmit",function(){return a.onSubmit()}),o(21,"div",16)(22,"label",17),r(23,"Username"),e(),c(24,"input",18),m(25,_e,2,0,"div",19),e(),o(26,"div",20)(27,"div",21)(28,"label",22),r(29,"M\u1EADt kh\u1EA9u"),e(),o(30,"a",23),r(31," Hi\u1EC3n th\u1ECB "),e()(),c(32,"input",24),m(33,ve,2,0,"div",19),e(),o(34,"div",25)(35,"div",26)(36,"label",27),c(37,"input",28),r(38," Nh\u1EDB t\xE0i kho\u1EA3n "),e(),o(39,"a",29),r(40,"Qu\xEAn m\u1EADt kh\u1EA9u"),e()()(),o(41,"button",30),m(42,xe,2,0,"span",31)(43,Pe,3,0,"span",31),e()(),o(44,"span",32),r(45," Ch\u01B0a c\xF3 t\xE0i kho\u1EA3n? "),o(46,"a",33),r(47," \u0110\u0103ng k\xED ngay "),e()()()()()),i&2&&(s(20),l("formGroup",a.form),s(5),l("ngIf",a.hasDisplayErrors("userName")&&a.form.controls.userName.hasError("required")),s(8),l("ngIf",a.hasDisplayErrors("password")&&a.form.controls.password.hasError("required")),s(6),l("routerLink",le(7,Ee)),s(2),l("disabled",a.isLoading),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading))},dependencies:[S,P,_,de,v,x,M,w,I,f,F],styles:["a[_ngcontent-%COMP%]{text-decoration:none}main[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;background:#0d1d2b!important;display:flex;flex-wrap:wrap;color:var(--text-color);height:100vh}.error-feedback[_ngcontent-%COMP%]{color:red;font-size:13px}.auths-width[_ngcontent-%COMP%]{width:50%}.signup[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-register.png);background-position:center;background-size:cover;background-repeat:no-repeat}.signin[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-login.png);background-position:center;background-size:cover;background-repeat:no-repeat}.left[_ngcontent-%COMP%]{flex:0 0 30%;padding:20px;background-color:#0d1d2b}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4ccb70;font-weight:600;font-size:1.5rem;margin-top:1.5rem;-webkit-user-select:none;user-select:none}.right[_ngcontent-%COMP%]{flex:0 0 70%;padding:20px;border-radius:30px 0 0 30px}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color);font-weight:500}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-hover)}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#4ccb70}.right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 3px #2dce8940}.right-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-weight:600}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{display:none}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-color)!important}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4ccb70;box-shadow:none}.auths-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.auths-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;color:var(--text-color)}.auths-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:25px;border:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#4ccb70}.login[_ngcontent-%COMP%]{margin:0 10rem}.auths-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;color:#fff;margin-right:10px;font-size:14px}.auth-social[_ngcontent-%COMP%]{border:1px solid var(--bg-soft)}.term[_ngcontent-%COMP%]{width:75%}@media (max-width: 768px){.term[_ngcontent-%COMP%], .auths-width[_ngcontent-%COMP%]{width:100%}.right[_ngcontent-%COMP%]{flex:0 0 100%;border-radius:30px}.left[_ngcontent-%COMP%], .auths-icon[_ngcontent-%COMP%]{display:none}.login[_ngcontent-%COMP%]{margin:0}}"]})}};var R=class t{transform(n){let i=Object.keys(n);return i.length>0?i[0]:null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=se({name:"firstkey",type:t,pure:!0})}};function Me(t,n){if(t&1&&(o(0,"div",17),r(1),e()),t&2){let i=p();s(),q(" ",i.successMessage," Chuy\u1EC3n t\u1EDBi trang \u0111\u0103ng nh\u1EADp sau ",i.countdown," gi\xE2y... ")}}function we(t,n){t&1&&(o(0,"div",22),r(1," Vui l\xF2ng nh\u1EADp t\xE0i kho\u1EA3n "),e())}function Oe(t,n){t&1&&(o(0,"div"),r(1," Vui l\xF2ng nh\u1EADp m\u1EADt kh\u1EA9u "),e())}function Se(t,n){t&1&&(o(0,"div"),r(1," M\u1EADt kh\u1EA9u n\xEAn c\xF3 \xEDt nh\u1EA5t 1 k\xED t\u1EF1 \u0111\u1EB7c bi\u1EC7t "),e())}function ye(t,n){t&1&&(o(0,"div"),r(1," M\u1EADt kh\u1EA9u ph\u1EA3i c\xF3 \xEDt nh\u1EA5t 6 k\xED t\u1EF1 "),e())}function ke(t,n){if(t&1&&(o(0,"div",22),V(1,36),G(2,"firstkey"),m(3,Oe,2,0,"div",37)(4,Se,2,0,"div",37)(5,ye,2,0,"div",37),z(),e()),t&2){let i=p();s(),l("ngSwitch",Q(2,4,i.form.controls.password.errors)),s(2),l("ngSwitchCase","required"),s(),l("ngSwitchCase","pattern"),s(),l("ngSwitchCase","minlength")}}function De(t,n){t&1&&(o(0,"div",22),r(1," M\u1EADt kh\u1EA9u x\xE1c nh\u1EADn kh\xF4ng kh\u1EDBp "),e())}function Ae(t,n){t&1&&(o(0,"div",22),r(1," Vui l\xF2ng \u0111i\u1EC1n t\xEAn \u0111\u1EA7y \u0111\u1EE7 "),e())}function Fe(t,n){t&1&&(o(0,"div"),r(1," Vui l\xF2ng nh\u1EADp \u0111\u1ECBa ch\u1EC9 email "),e())}function Ne(t,n){t&1&&(o(0,"div"),r(1," Vui l\xF2ng nh\u1EADp email \u0111\xFAng h\u1EE3p l\u1EC7 "),e())}function Te(t,n){if(t&1&&(o(0,"div",22),m(1,Fe,2,0,"div")(2,Ne,2,0,"div"),e()),t&2){let i=p();s(),g(i.form.controls.email.hasError("required")?1:i.form.controls.email.hasError("email")?2:-1)}}function Ie(t,n){t&1&&(o(0,"span"),r(1,"\u0110\u0103ng k\xFD"),e())}function Le(t,n){t&1&&(o(0,"span"),c(1,"span",38),r(2," \u0110\u1EE3i t\xED... "),e())}var K=class t{constructor(n,i,a,h,ie,be){this.formBuilder=n;this.service=i;this.router=a;this.themeService=h;this.cdr=ie;this.toast=be;this.isSubmitted=!1;this.isLoading=!1;this.successMessage=null;this.countdown=0;this.form=this.formBuilder.group({userName:["",u.required],fullName:["",u.required],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6),u.pattern(/(?=.*[^a-zA-Z0-9 ])/)]],confirmPassword:["",u.required]},{validators:this.passwordMatchValidator()})}ngOnInit(){this.themeService.theme$.subscribe(n=>{document.body.className=n,this.cdr.detectChanges()})}passwordMatchValidator(){return n=>{let i=n.get("password"),a=n.get("confirmPassword");return i&&a&&i.value!==a.value?a?.setErrors({passwordMismatch:!0}):a?.setErrors(null),null}}hasDisplayError(n){let i=this.form.get(n);return!!i?.invalid&&(this.isSubmitted||!!i?.touched)}onSubmit(){this.isSubmitted=!0,this.form.valid&&(this.isLoading=!0,this.service.register(this.form.value).pipe(ae(n=>(this.toast.error(n.error.message,"Error"),this.isLoading=!1,re(()=>n)))).subscribe({next:n=>{if(n.success){this.form.reset(),this.isSubmitted=!1,this.successMessage="\u0110\u0103ng k\xED th\xE0nh c\xF4ng!",this.toast.success(this.successMessage,"Success"),this.countdown=5;let i=setInterval(()=>{this.countdown--,this.countdown===0&&(clearInterval(i),this.toast.clear(),this.router.navigate(["/login"]).then())},1e3);this.isLoading=!1,this.toast.success("Account created successfully","Success")}}}))}static{this.\u0275fac=function(i){return new(i||t)(d(O),d(y),d(T),d(k),d(E),d($))}}static{this.\u0275cmp=b({type:t,selectors:[["app-register"]],decls:58,vars:9,consts:[[1,"signup","auth"],[1,"left"],["href","/"],["src","assets/public/images/logo.png","alt","Logo",2,"width","150px"],[1,"right","bg-soft-screen","shadow","d-flex","align-items-center","position-relative"],["href","/",1,"d-flex","align-items-center","position-absolute","start-0","title",2,"top","15px"],[1,"fas","fa-long-arrow-alt-left","mx-lg-5","mx-3"],[1,"container","right-content","mt-4"],["href","#",1,"d-flex","justify-content-center","d-lg-none","pb-sm-3"],["src","/assets/public/images/logo.png","alt","Logo",2,"width","150px"],[1,"mb-4","mt-0","mt-sm-3"],[1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-between","align-items-center","mx-lg-5","px-lg-5","auths-width"],["href","",1,"bg-facebook","auth-social","text-center","text-decoration-none","rounded-3","p-1","me-1","container-fluid"],[1,"fab","fa-facebook-f","text-light"],["href","",1,"text-center","auth-social","text-decoration-none","rounded-3","p-1","ms-1","bg-light","container-fluid"],[1,"fab","fa-google","text-danger"],[1,"alert","alert-success","mt-2"],[1,"mx-lg-5","px-lg-5","auths-width","auths-form",3,"ngSubmit","formGroup"],[1,"my-2"],["for","usn",1,"form-label"],["type","text","id","usn","placeholder","Nh\u1EADp t\xEAn \u0111\u0103ng nh\u1EADp","formControlName","userName",1,"form-control","bg-soft-screen"],[1,"error-feedback"],["for","pw",1,"form-label"],["type","password","id","pw","placeholder","Nh\u1EADp m\u1EADt kh\u1EA9u","formControlName","password",1,"form-control","bg-soft-screen"],["for","cfpw",1,"form-label"],["type","password","id","cfpw","placeholder","X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u","formControlName","confirmPassword",1,"form-control","bg-soft-screen"],["for","fn",1,"form-label"],["placeholder","Nh\u1EADp t\xEAn hi\u1EC3n th\u1ECB","id","fn","formControlName","fullName",1,"form-control","bg-soft-screen"],[1,"form-label"],["type","email","placeholder","Nh\u1EADp email","formControlName","email",1,"form-control","bg-soft-screen"],[1,"mb-2","form-check"],["for","terms",1,"form-check-label"],["type","checkbox","id","terms","required","",1,"form-check-input"],["href","#",1,"text-info"],["type","submit",1,"btn","bg-gradient-success","text-white","col-12",3,"disabled"],[3,"ngSwitch"],[4,"ngSwitchCase"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,a){i&1&&(o(0,"main",0)(1,"div",1)(2,"a",2),c(3,"img",3),e(),o(4,"h1"),r(5,"Web t\u1EA3i game, \u1EE9ng d\u1EE5ng h\u1ED7 tr\u1EE3 mi\u1EC5n ph\xED"),e()(),o(6,"div",4)(7,"a",5),c(8,"i",6),r(9," Quay l\u1EA1i trang ch\u1EE7 "),e(),o(10,"section",7)(11,"a",8),c(12,"img",9),e(),o(13,"h3",10),r(14,"\u0110\u0103ng k\xED"),e(),o(15,"div",11)(16,"div",12)(17,"a",13),c(18,"i",14),e(),o(19,"a",15),c(20,"i",16),e()()(),m(21,Me,2,2,"div",17),o(22,"div",11)(23,"form",18),C("ngSubmit",function(){return a.onSubmit()}),o(24,"div",19)(25,"label",20),r(26,"Username"),e(),c(27,"input",21),m(28,we,2,0,"div",22),e(),o(29,"div",19)(30,"label",23),r(31,"Password"),e(),c(32,"input",24),m(33,ke,6,6,"div",22),e(),o(34,"div",19)(35,"label",25),r(36,"Confirm Password"),e(),c(37,"input",26),m(38,De,2,0,"div",22),e(),o(39,"div",19)(40,"label",27),r(41,"Full Name"),e(),c(42,"input",28),m(43,Ae,2,0,"div",22),e(),o(44,"div",19)(45,"label",29),r(46,"Email"),e(),c(47,"input",30),m(48,Te,3,1,"div",22),e(),o(49,"div",31)(50,"label",32),c(51,"input",33),r(52," \u0110\u1ED3ng \xFD v\u1EDBi "),o(53,"a",34),r(54,"\u0110i\u1EC1u kho\u1EA3n s\u1EED d\u1EE5ng"),e()()(),o(55,"button",35),m(56,Ie,2,0,"span")(57,Le,3,0,"span"),e()()()()()()),i&2&&(s(21),g(a.successMessage?21:-1),s(2),l("formGroup",a.form),s(5),g(a.hasDisplayError("userName")&&a.form.controls.userName.hasError("required")?28:-1),s(5),g(a.hasDisplayError("password")?33:-1),s(5),g(a.hasDisplayError("confirmPassword")&&a.form.controls.confirmPassword.hasError("passwordMismatch")?38:-1),s(5),g(a.hasDisplayError("fullName")&&a.form.controls.fullName.hasError("required")?43:-1),s(5),g(a.hasDisplayError("email")?48:-1),s(7),l("disabled",a.isLoading),s(),g(a.isLoading?57:56))},dependencies:[R,f,W,X,S,P,_,v,x,M,w],styles:["input[_ngcontent-%COMP%]{border:1px solid #6c757d!important;box-shadow:none!important}input[_ngcontent-%COMP%]:focus{border-color:#4ccb70!important;box-shadow:none;transition:border .3s ease-in-out}input[_ngcontent-%COMP%]::placeholder{color:#818181!important}","a[_ngcontent-%COMP%]{text-decoration:none}main[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;background:#0d1d2b!important;display:flex;flex-wrap:wrap;color:var(--text-color);height:100vh}.error-feedback[_ngcontent-%COMP%]{color:red;font-size:13px}.auths-width[_ngcontent-%COMP%]{width:50%}.signup[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-register.png);background-position:center;background-size:cover;background-repeat:no-repeat}.signin[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-login.png);background-position:center;background-size:cover;background-repeat:no-repeat}.left[_ngcontent-%COMP%]{flex:0 0 30%;padding:20px;background-color:#0d1d2b}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4ccb70;font-weight:600;font-size:1.5rem;margin-top:1.5rem;-webkit-user-select:none;user-select:none}.right[_ngcontent-%COMP%]{flex:0 0 70%;padding:20px;border-radius:30px 0 0 30px}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color);font-weight:500}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-hover)}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#4ccb70}.right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 3px #2dce8940}.right-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-weight:600}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{display:none}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-color)!important}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4ccb70;box-shadow:none}.auths-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.auths-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;color:var(--text-color)}.auths-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:25px;border:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#4ccb70}.login[_ngcontent-%COMP%]{margin:0 10rem}.auths-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;color:#fff;margin-right:10px;font-size:14px}.auth-social[_ngcontent-%COMP%]{border:1px solid var(--bg-soft)}.term[_ngcontent-%COMP%]{width:75%}@media (max-width: 768px){.term[_ngcontent-%COMP%], .auths-width[_ngcontent-%COMP%]{width:100%}.right[_ngcontent-%COMP%]{flex:0 0 100%;border-radius:30px}.left[_ngcontent-%COMP%], .auths-icon[_ngcontent-%COMP%]{display:none}.login[_ngcontent-%COMP%]{margin:0}}"]})}};function Re(t,n){if(t&1&&(o(0,"div",20),r(1),e()),t&2){let i=p();s(),ce(i.message)}}function Be(t,n){t&1&&(o(0,"div",15),r(1," Vui l\xF2ng nh\u1EADp t\xE0i kho\u1EA3n "),e())}function je(t,n){t&1&&(o(0,"div"),r(1," Vui l\xF2ng nh\u1EADp \u0111\u1ECBa ch\u1EC9 email "),e())}function Ve(t,n){t&1&&(o(0,"div"),r(1," Vui l\xF2ng nh\u1EADp email \u0111\xFAng h\u1EE3p l\u1EC7 "),e())}function ze(t,n){if(t&1&&(o(0,"div",15),m(1,je,2,0,"div")(2,Ve,2,0,"div"),e()),t&2){let i=p();s(),g(i.form.controls.email.hasError("required")?1:i.form.controls.email.hasError("email")?2:-1)}}function qe(t,n){t&1&&(o(0,"span"),r(1,"Y\xEAu c\u1EA7u kh\xF4i ph\u1EE5c"),e())}function Ge(t,n){t&1&&(o(0,"span"),c(1,"span",21),r(2," \u0110\u1EE3i t\xED... "),e())}var H=class t{constructor(n,i,a,h){this.fb=n;this.themeService=i;this.cdr=a;this.authService=h;this.form=this.fb.group({username:["",[u.required]],email:["",[u.required,u.email]]});this.message="";this.isLoading=!1;this.isSubmitted=!1;this.platForm=D(A)}ngOnInit(){N(this.platForm)&&this.themeService.theme$.subscribe(n=>{document.body.className=n,this.cdr.detectChanges()})}hasDisplayError(n){let i=this.form.get(n);return!!i?.invalid&&(this.isSubmitted||!!i?.touched)}onSubmit(){this.isSubmitted=!0,this.form.valid&&(this.isLoading=!0,this.authService.requestForgotPassword(this.form.value).subscribe({next:n=>{this.isLoading=!1,this.message="Vui l\xF2ng ki\u1EC3m tra email \u0111\u1EC3 x\xE1c nh\u1EADn"},error:n=>{this.isLoading=!1,this.message=n.error?.message||"L\u1ED7i h\u1EC7 th\u1ED1ng"}}))}static{this.\u0275fac=function(i){return new(i||t)(d(O),d(k),d(E),d(y))}}static{this.\u0275cmp=b({type:t,selectors:[["app-forgot-password"]],decls:30,vars:7,consts:[[1,"signup","auth"],[1,"left"],["href","#"],["src","/assets/public/images/logo.png","alt","Logo",2,"width","150px"],[1,"right","bg-soft-screen","shadow","d-flex","align-items-center","position-relative"],["routerLink","/",1,"d-flex","align-items-center","position-absolute","start-0","title",2,"top","15px"],[1,"fas","fa-long-arrow-alt-left","mx-lg-5","mx-3"],[1,"container","right-content","mt-4","login"],["href","/",1,"d-flex","justify-content-center","d-lg-none","pb-sm-3","my-3"],[1,"mb-4","mt-0","mt-sm-3"],["class","alert alert-warning w-100",4,"ngIf"],[1,"mx-lg-5","px-lg-5","mt-3","auths-form",3,"ngSubmit","formGroup"],[1,"my-2"],["for","usn",1,"form-label"],["type","text","id","usn","placeholder","Nh\u1EADp t\xEAn \u0111\u0103ng nh\u1EADp","formControlName","username",1,"form-control","bg-soft-screen"],[1,"error-feedback"],[1,"form-label"],["type","email","placeholder","Nh\u1EADp email","formControlName","email",1,"form-control","bg-soft-screen"],["type","submit",1,"btn","bg-gradient-success","text-white","col-12","mt-2",3,"disabled"],[4,"ngIf"],[1,"alert","alert-warning","w-100"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,a){i&1&&(o(0,"main",0)(1,"div",1)(2,"a",2),c(3,"img",3),e(),o(4,"h1"),r(5,"Web t\u1EA3i game, \u1EE9ng d\u1EE5ng h\u1ED7 tr\u1EE3 mi\u1EC5n ph\xED"),e()(),o(6,"div",4)(7,"a",5),c(8,"i",6),r(9," Quay l\u1EA1i trang ch\u1EE7 "),e(),o(10,"section",7)(11,"a",8),c(12,"img",3),e(),o(13,"h3",9),r(14,"Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n"),e(),m(15,Re,2,1,"div",10),o(16,"form",11),C("ngSubmit",function(){return a.onSubmit()}),o(17,"div",12)(18,"label",13),r(19,"Username"),e(),c(20,"input",14),m(21,Be,2,0,"div",15),e(),o(22,"div",12)(23,"label",16),r(24,"Email"),e(),c(25,"input",17),m(26,ze,3,1,"div",15),e(),o(27,"button",18),m(28,qe,2,0,"span",19)(29,Ge,3,0,"span",19),e()()()()()),i&2&&(s(15),l("ngIf",a.message),s(),l("formGroup",a.form),s(5),g(a.hasDisplayError("username")&&a.form.controls.username.hasError("required")?21:-1),s(5),g(a.hasDisplayError("email")?26:-1),s(),l("disabled",a.isLoading),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading))},dependencies:[S,P,_,v,x,M,w,f,F,I],styles:["input[_ngcontent-%COMP%]{border:1px solid #6c757d!important;box-shadow:none!important}input[_ngcontent-%COMP%]:focus{border-color:#4ccb70!important;box-shadow:none;transition:border .3s ease-in-out}input[_ngcontent-%COMP%]::placeholder{color:#818181!important}","a[_ngcontent-%COMP%]{text-decoration:none}main[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;background:#0d1d2b!important;display:flex;flex-wrap:wrap;color:var(--text-color);height:100vh}.error-feedback[_ngcontent-%COMP%]{color:red;font-size:13px}.auths-width[_ngcontent-%COMP%]{width:50%}.signup[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-register.png);background-position:center;background-size:cover;background-repeat:no-repeat}.signin[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-login.png);background-position:center;background-size:cover;background-repeat:no-repeat}.left[_ngcontent-%COMP%]{flex:0 0 30%;padding:20px;background-color:#0d1d2b}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4ccb70;font-weight:600;font-size:1.5rem;margin-top:1.5rem;-webkit-user-select:none;user-select:none}.right[_ngcontent-%COMP%]{flex:0 0 70%;padding:20px;border-radius:30px 0 0 30px}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color);font-weight:500}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-hover)}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#4ccb70}.right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 3px #2dce8940}.right-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-weight:600}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{display:none}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-color)!important}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4ccb70;box-shadow:none}.auths-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.auths-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;color:var(--text-color)}.auths-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:25px;border:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#4ccb70}.login[_ngcontent-%COMP%]{margin:0 10rem}.auths-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;color:#fff;margin-right:10px;font-size:14px}.auth-social[_ngcontent-%COMP%]{border:1px solid var(--bg-soft)}.term[_ngcontent-%COMP%]{width:75%}@media (max-width: 768px){.term[_ngcontent-%COMP%], .auths-width[_ngcontent-%COMP%]{width:100%}.right[_ngcontent-%COMP%]{flex:0 0 100%;border-radius:30px}.left[_ngcontent-%COMP%], .auths-icon[_ngcontent-%COMP%]{display:none}.login[_ngcontent-%COMP%]{margin:0}}"]})}};function Qe(t,n){if(t&1&&(o(0,"div",20),r(1),e()),t&2){let i=p();s(),q("",i.message,". Chuy\u1EC3n t\u1EDBi trang \u0111\u0103ng nh\u1EADp sau ",i.countdown," gi\xE2y...")}}function We(t,n){t&1&&(o(0,"div"),r(1," Vui l\xF2ng nh\u1EADp m\u1EADt kh\u1EA9u "),e())}function Xe(t,n){t&1&&(o(0,"div"),r(1," M\u1EADt kh\u1EA9u ph\u1EA3i c\xF3 \xEDt nh\u1EA5t 6 k\xED t\u1EF1 "),e())}function $e(t,n){if(t&1&&(o(0,"div",15),V(1,21),G(2,"firstkey"),m(3,We,2,0,"div",22)(4,Xe,2,0,"div",22),z(),e()),t&2){let i=p();s(),l("ngSwitch",Q(2,3,i.form.controls.newPassword.errors)),s(2),l("ngSwitchCase","required"),s(),l("ngSwitchCase","minlength")}}function Ue(t,n){t&1&&(o(0,"div",15),r(1," M\u1EADt kh\u1EA9u x\xE1c nh\u1EADn kh\xF4ng kh\u1EDBp "),e())}function Ke(t,n){t&1&&(o(0,"span"),r(1,"X\xE1c nh\u1EADn thay \u0111\u1ED5i"),e())}function He(t,n){t&1&&(o(0,"span"),c(1,"span",23),r(2," \u0110\u1EE3i t\xED... "),e())}var Y=class t{constructor(n,i,a,h,ie){this.fb=n;this.themeService=i;this.cdr=a;this.router=h;this.route=ie;this.authService=D(y);this.message="";this.isLoading=!1;this.isSubmitted=!1;this.countdown=0;this.platForm=D(A);this.form=this.fb.group({newPassword:["",[u.required,u.minLength(6)]],confirmNewPassword:["",[u.required]]},{validators:this.passwordMatchValidator()})}ngOnInit(){N(this.platForm)&&this.themeService.theme$.subscribe(n=>{document.body.className=n,this.cdr.detectChanges()})}passwordMatchValidator(){return n=>{let i=n.get("newPassword"),a=n.get("confirmNewPassword");return i&&a&&i.value!==a.value?a?.setErrors({passwordMismatch:!0}):a?.setErrors(null),null}}hasDisplayError(n){let i=this.form.get(n);return!!i?.invalid&&(this.isSubmitted||!!i?.touched)}onSubmit(){this.isSubmitted=!0;let n=this.route.snapshot.queryParams;this.form.valid&&(this.isLoading=!0,this.authService.confirmPassword(n.username,n.token,this.form.value).subscribe({next:i=>{this.isLoading=!1,this.message="M\u1EADt kh\u1EA9u c\u1EE7a b\u1EA1n \u0111\xE3 thay \u0111\u1ED5i th\xE0nh c\xF4ng",this.countdown=3;let a=setInterval(()=>{this.countdown--,this.countdown===0&&(clearInterval(a),this.router.navigate(["/login"]).then(h=>h))},1e3)},error:i=>{this.isLoading=!1,this.message=i.error?.message||"L\u1ED7i h\u1EC7 th\u1ED1ng"}}))}static{this.\u0275fac=function(i){return new(i||t)(d(O),d(k),d(E),d(T),d(me))}}static{this.\u0275cmp=b({type:t,selectors:[["app-confirm-password"]],decls:30,vars:7,consts:[[1,"signup","auth"],[1,"left"],["href","#"],["src","/assets/public/images/logo.png","alt","Logo",2,"width","150px"],[1,"right","bg-soft-screen","shadow","d-flex","align-items-center","position-relative"],["routerLink","/",1,"d-flex","align-items-center","position-absolute","start-0","title",2,"top","15px"],[1,"fas","fa-long-arrow-alt-left","mx-lg-5","mx-3"],[1,"container","right-content","mt-4","login"],["href","/",1,"d-flex","justify-content-center","d-lg-none","pb-sm-3","my-3"],[1,"mb-4","mt-0","mt-sm-3"],[1,"mx-lg-5","px-lg-5","mt-3","auths-form",3,"ngSubmit","formGroup"],["class","alert alert-warning w-100",4,"ngIf"],[1,"my-2"],["for","pw",1,"form-label"],["type","password","id","pw","placeholder","Nh\u1EADp m\u1EADt kh\u1EA9u","formControlName","newPassword",1,"form-control","bg-soft-screen"],[1,"error-feedback"],["for","cfpw",1,"form-label"],["type","password","id","cfpw","placeholder","X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u","formControlName","confirmNewPassword",1,"form-control","bg-soft-screen"],["type","submit",1,"btn","bg-gradient-success","text-white","col-12","mt-2",3,"disabled"],[4,"ngIf"],[1,"alert","alert-warning","w-100"],[3,"ngSwitch"],[4,"ngSwitchCase"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(i,a){i&1&&(o(0,"main",0)(1,"div",1)(2,"a",2),c(3,"img",3),e(),o(4,"h1"),r(5,"Web t\u1EA3i game, \u1EE9ng d\u1EE5ng h\u1ED7 tr\u1EE3 mi\u1EC5n ph\xED"),e()(),o(6,"div",4)(7,"a",5),c(8,"i",6),r(9," Quay l\u1EA1i trang ch\u1EE7 "),e(),o(10,"section",7)(11,"a",8),c(12,"img",3),e(),o(13,"h3",9),r(14,"Kh\xF4i ph\u1EE5c t\xE0i kho\u1EA3n"),e(),o(15,"form",10),C("ngSubmit",function(){return a.onSubmit()}),m(16,Qe,2,2,"div",11),o(17,"div",12)(18,"label",13),r(19,"M\u1EADt kh\u1EA9u m\u1EDBi"),e(),c(20,"input",14),m(21,$e,5,5,"div",15),e(),o(22,"div",12)(23,"label",16),r(24,"X\xE1c nh\u1EADn m\u1EADt kh\u1EA9u m\u1EDBi"),e(),c(25,"input",17),m(26,Ue,2,0,"div",15),e(),o(27,"button",18),m(28,Ke,2,0,"span",19)(29,He,3,0,"span",19),e()()()()()),i&2&&(s(15),l("formGroup",a.form),s(),l("ngIf",a.message),s(5),g(a.hasDisplayError("newPassword")?21:-1),s(5),g(a.hasDisplayError("confirmNewPassword")&&a.form.controls.confirmNewPassword.hasError("passwordMismatch")?26:-1),s(),l("disabled",a.isLoading),s(),l("ngIf",!a.isLoading),s(),l("ngIf",a.isLoading))},dependencies:[ue,P,_,v,x,S,M,w,I,f,F,W,X,R],styles:["input[_ngcontent-%COMP%]{border:1px solid #6c757d!important;box-shadow:none!important}input[_ngcontent-%COMP%]:focus{border-color:#4ccb70!important;box-shadow:none;transition:border .3s ease-in-out}input[_ngcontent-%COMP%]::placeholder{color:#818181!important}","a[_ngcontent-%COMP%]{text-decoration:none}main[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;background:#0d1d2b!important;display:flex;flex-wrap:wrap;color:var(--text-color);height:100vh}.error-feedback[_ngcontent-%COMP%]{color:red;font-size:13px}.auths-width[_ngcontent-%COMP%]{width:50%}.signup[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-register.png);background-position:center;background-size:cover;background-repeat:no-repeat}.signin[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{background-image:url(/assets/public/images/background/bg-login.png);background-position:center;background-size:cover;background-repeat:no-repeat}.left[_ngcontent-%COMP%]{flex:0 0 30%;padding:20px;background-color:#0d1d2b}.left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#4ccb70;font-weight:600;font-size:1.5rem;margin-top:1.5rem;-webkit-user-select:none;user-select:none}.right[_ngcontent-%COMP%]{flex:0 0 70%;padding:20px;border-radius:30px 0 0 30px}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color);font-weight:500}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-hover)}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#4ccb70}.right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 0 3px #2dce8940}.right-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-weight:600}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-unstyled[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{display:none}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--text-color)!important}.auths-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4ccb70;box-shadow:none}.auths-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem}.auths-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;color:var(--text-color)}.auths-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:25px;border:0}input[type=checkbox][_ngcontent-%COMP%]{background-color:transparent}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#4ccb70}.login[_ngcontent-%COMP%]{margin:0 10rem}.auths-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;color:#fff;margin-right:10px;font-size:14px}.auth-social[_ngcontent-%COMP%]{border:1px solid var(--bg-soft)}.term[_ngcontent-%COMP%]{width:75%}@media (max-width: 768px){.term[_ngcontent-%COMP%], .auths-width[_ngcontent-%COMP%]{width:100%}.right[_ngcontent-%COMP%]{flex:0 0 100%;border-radius:30px}.left[_ngcontent-%COMP%], .auths-icon[_ngcontent-%COMP%]{display:none}.login[_ngcontent-%COMP%]{margin:0}}"]})}};var Ye=[{path:"",component:ge,children:[{path:"login",component:U},{path:"register",component:K},{path:"forgot-password",component:H},{path:"confirm-password",component:Y},{path:"",redirectTo:"login",pathMatch:"full"}]}],Z=class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=B({imports:[J.forChild(Ye),J]})}};var he=class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=B({imports:[f,Z]})}};export{he as AuthModule};
