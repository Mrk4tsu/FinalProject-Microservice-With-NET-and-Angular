<main class="signup auth">
  <div class="left">
    <a href="/"><img src="assets/public/images/logo.png" alt="Logo" style="width: 150px;"/></a>
    <h1>Web tải game, ứng dụng hỗ trợ miễn phí</h1>
  </div>
  <div class="right bg-soft-screen shadow d-flex align-items-center position-relative">
    <a class="d-flex align-items-center position-absolute start-0 title" style="top:15px;" href="/">
      <i class="fas fa-long-arrow-alt-left mx-lg-5 mx-3"></i>
      Quay lại trang chủ
    </a>
    <section class="container right-content mt-4">
      <a href="#" class="d-flex justify-content-center d-lg-none pb-sm-3">
        <img src="/assets/public/images/logo.png" alt="Logo" style="width: 150px;"/>
      </a>

      <h3 class="mb-4 mt-0 mt-sm-3">Đăng kí</h3>

      <div class="d-flex justify-content-center">
        <div class="d-flex justify-content-between align-items-center mx-lg-5 px-lg-5 auths-width">
          <a href=""
             class="bg-facebook auth-social text-center text-decoration-none rounded-3 p-1 me-1 container-fluid">
            <i class="fab fa-facebook-f text-light"></i>
          </a>
          <a href="" class="text-center auth-social text-decoration-none rounded-3 p-1 ms-1 bg-light container-fluid">
            <i class="fab fa-google text-danger"></i>
          </a>
        </div>

      </div>
      @if (successMessage) {
        <div class="alert alert-success mt-2">
          {{ successMessage }} Chuyển tới trang đăng nhập sau {{ countdown }} giây...
        </div>
      }
      <div class="d-flex justify-content-center">

        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="mx-lg-5 px-lg-5 auths-width auths-form ">
          <div class="my-2">
            <label class="form-label" for="usn">Username</label>
            <input type="text" class="form-control bg-soft-screen" id="usn" placeholder="Nhập tên đăng nhập"
                   formControlName="userName">
            @if (hasDisplayError('userName') && form.controls.userName.hasError('required')) {
              <div class="error-feedback">
                Vui lòng nhập tài khoản
              </div>
            }
          </div>
          <div class="my-2">
            <label class="form-label" for="pw">Password</label>
            <input type="password" class="form-control bg-soft-screen" id="pw" placeholder="Nhập mật khẩu"
                   formControlName="password">
            @if (hasDisplayError('password')) {
              <div class="error-feedback">
                <ng-container [ngSwitch]="form.controls.password.errors | firstkey">
                  <div *ngSwitchCase="'required'">
                    Vui lòng nhập mật khẩu
                  </div>
                  <div *ngSwitchCase="'pattern'">
                    Mật khẩu nên có ít nhất 1 kí tự đặc biệt
                  </div>
                  <div *ngSwitchCase="'minlength'">
                    Mật khẩu phải có ít nhất 6 kí tự
                  </div>
                </ng-container>
              </div>
            }
          </div>
          <div class="my-2">
            <label class="form-label" for="cfpw">Confirm Password</label>
            <input type="password" class="form-control bg-soft-screen" id="cfpw" placeholder="Xác nhận mật khẩu"
                   formControlName="confirmPassword">
            @if (hasDisplayError('confirmPassword') && form.controls.confirmPassword.hasError('passwordMismatch')) {
              <div class="error-feedback">
                Mật khẩu xác nhận không khớp
              </div>
            }
          </div>
          <div class="my-2">
            <label class="form-label" for="fn">Full Name</label>
            <input class="form-control bg-soft-screen" placeholder="Nhập tên hiển thị" id="fn" formControlName="fullName">
            @if (hasDisplayError('fullName') && form.controls.fullName.hasError('required')) {
              <div class="error-feedback">
                Vui lòng điền tên đầy đủ
              </div>
            }
          </div>
          <div class="my-2">
            <label class="form-label">Email</label>
            <input type="email" class="form-control bg-soft-screen" placeholder="Nhập email" formControlName="email">
            @if (hasDisplayError('email')) {
              <div class="error-feedback">
                @if (form.controls.email.hasError('required')) {
                  <div>
                    Vui lòng nhập địa chỉ email
                  </div>
                } @else if (form.controls.email.hasError('email')) {
                  <div>
                    Vui lòng nhập email đúng hợp lệ
                  </div>
                }
              </div>
            }
          </div>
          <div class="mb-2 form-check">
            <label class="form-check-label" for="terms">
              <input type="checkbox" id="terms" class="form-check-input" required>
              Đồng ý với <a href="#" class="text-info">Điều khoản sử dụng</a>
            </label>
          </div>

          <button type="submit" class="btn bg-gradient-success text-white col-12" [disabled]="isLoading">
            @if (!isLoading) {
              <span>Đăng ký</span>
            } @else {
              <span>
                  <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                  Đợi tí...
              </span>
            }
          </button>
        </form>
      </div>

    </section>
  </div>

</main>


<!--<h3 class="text-center">Đăng ký tài khoản</h3>-->
<!--<form [formGroup]="form" (submit)="onSubmit()">-->
<!--  <div class="mb-3 mt-3">-->
<!--    <label for="username" class="form-label">Username:</label>-->
<!--    <input formControlName="userName" class="form-control" id="username">-->
<!--    @if (hasDisplayError('userName') && form.controls.userName.hasError('required')) {-->
<!--      <div class="text-danger">Please enter a username</div>-->
<!--    }-->
<!--  </div>-->
<!--  <div class="mb-3">-->
<!--    <label for="pwd" class="form-label">Password:</label>-->
<!--    <input formControlName="password" type="password" class="form-control" id="pwd">-->
<!--    @if (hasDisplayError('password')) {-->
<!--      <div class="text-danger">-->
<!--        @switch (form.controls.password.errors | firstKey) {-->
<!--          @case ('required') {-->
<!--            <div>Please enter your password</div>-->
<!--          }-->
<!--          @case ('pattern') {-->
<!--            <div>Mật khẩu nên có ít nhất 1 kí tự đặc biệt</div>-->
<!--          }-->
<!--          @case ('minlength') {-->
<!--            <div>Mật khẩu phải có ít nhất 6 kí tự</div>-->
<!--          }-->
<!--        }-->
<!--      </div>-->
<!--    }-->
<!--  </div>-->
<!--  <div class="mb-3">-->
<!--    <label for="cpwd" class="form-label">Confirm Password:</label>-->
<!--    <input formControlName="confirmPassword" type="password" class="form-control" id="cpwd">-->
<!--    @if (hasDisplayError('confirmPassword') && form.controls.confirmPassword.hasError('passwordMismatch')) {-->
<!--      <div class="text-danger">Mật khẩu xác nhận không khớp</div>-->
<!--    }-->
<!--  </div>-->
<!--  <div class="mb-3">-->
<!--    <label for="nn" class="form-label">Nickname:</label>-->
<!--    <input formControlName="fullName" class="form-control" id="nn">-->
<!--    @if (hasDisplayError('fullName') && form.controls.fullName.hasError('required')) {-->
<!--      <div class="text-danger">Vui lòng điền tên đầy đủ</div>-->
<!--    }-->
<!--  </div>-->
<!--  <div class="mb-3">-->
<!--    <label for="mail" class="form-label">Email:</label>-->
<!--    <input type="email" formControlName="email" class="form-control" id="mail">-->
<!--    @if (hasDisplayError('email')) {-->
<!--      @if (form.controls.email.hasError('required')) {-->
<!--        <div class="text-danger">Vui lòng điền email</div>-->
<!--      }-->
<!--      @if (form.controls.email.hasError('email')) {-->
<!--        <div class="text-danger">Email không hợp lệ</div>-->
<!--      }-->
<!--    }-->
<!--  </div>-->
<!--  <button [disabled]="isLoading" type="submit" class="btn btn-primary d-block w-100">-->
<!--    @if (this.isLoading) {-->
<!--      Chờ tí...-->
<!--      <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>-->
<!--    } @else {-->
<!--      Submit-->
<!--    }-->
<!--  </button>-->
<!--</form>-->
